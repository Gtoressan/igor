@model IGOR.WebShell.Models.ComponentModel<IGOR.EntityModel.Entities.Order>

@{
	ViewBag.Title = "Подробнее";
}

<h2>Подробнее</h2>

<dl class="dl-horizontal">
	<dt>@Html.DisplayNameFor(model => model.Target.Customer)</dt>
	<dd>@Model.Target.Customer</dd>

	<dt>@Html.DisplayNameFor(model => model.Target.OrderMoment)</dt>
	<dd>@Model.Target.OrderMoment.ToShortDateString()</dd>

	<dt>@Html.DisplayNameFor(model => model.Target.State)</dt>
	<dd>@Model.Target.State</dd>
</dl>
<hr />

<p>
	@Html.ActionLink("Добавить", "CreateOrderItem", new { id = Model.Target.Id })
</p>
<table class="table">
	<tr>
		<th>Компонент</th>
		<th>Количество</th>
		<th></th>
	</tr>

	@if (Model.Collection2.Count() != 0) {
		foreach (var item in Model.Collection2) {
			<tr>
				<td>@item.Component.Manufacturer.Name @item.Component.Name</td>
				<td>@item.Count</td>
				<td>
					@Html.ActionLink("Редактировать", "EditOrderItem", new { id = item.Id }) |
					@Html.ActionLink("Удалить", "DeleteOrderItem", new { id = item.Id })
				</td>
			</tr>
		}
	} else {
		<tr>
			<td style="color:coral">Список пуст.</td>
		</tr>
	}

</table>
