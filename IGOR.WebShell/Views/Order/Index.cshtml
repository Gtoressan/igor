@model IEnumerable<IGOR.EntityModel.Entities.Order>

@{
	ViewBag.Title = "Список";
}

<h2>Список</h2>

@using (Html.BeginForm("Index", "Order", FormMethod.Get)) {
	<input type="text" class="form-control" name="model.Customer" placeholder="ФИО покупателя.." />
	<input type="text" class="form-control" name="model.State" placeholder="Состояние заказа.." />
	<input type="submit" class="btn btn-primary" value="Найти/сбросить" />
	<hr />
}

<p>
	@Html.ActionLink("Добавить", "Create")
</p>
<table class="table">
	<tr>
		<th>@Html.DisplayNameFor(model => model.Customer)</th>
		<th>@Html.DisplayNameFor(model => model.OrderMoment)</th>
		<th>@Html.DisplayNameFor(model => model.State)</th>
		<th></th>
	</tr>

	@if (Model.Count() != 0) {
		foreach (var item in Model) {
			<tr>
				<td>@item.Customer</td>
				<td>@item.OrderMoment.ToShortDateString()</td>
				<td>@item.State</td>
				<td>
					@Html.ActionLink("Редактировать", "Edit", new { id = item.Id }) |
					@Html.ActionLink("Открыть", "Details", new { id = item.Id }) |
					@Html.ActionLink("Удалить", "Delete", new { id = item.Id })
				</td>
			</tr>
		}
	} else {
		<tr>
			<td style="color:coral">Список пуст</td>
		</tr>
	}

</table>
